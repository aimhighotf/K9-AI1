<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>kendrick - Advanced AI Assistant</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/lib/core.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-dark.min.css">
    <style>
        :root {
            --primary: #6e48aa;
            --secondary: #9d50bb;
            --accent: #4776E6;
            --dark: #1a1a2e;
            --darker: #16213e;
            --light: #f8f9fa;
            --lighter: #ffffff;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #F44336;
            --info: #2196F3;
            --sidebar-width: 280px;
            --sidebar-collapsed-width: 80px;
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark);
            color: var(--light);
            overflow-x: hidden;
            height: 100vh;
            display: flex;
        }

        /* Sidebar Styles */
        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            background: linear-gradient(to bottom, var(--darker), var(--dark));
            transition: width var(--transition-speed);
            overflow: hidden;
            position: relative;
            z-index: 100;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
        }

        .sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
        }

        .sidebar-header {
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo img {
            width: 30px;
            height: 30px;
        }

        .logo-text {
            font-size: 1.2rem;
            font-weight: bold;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            white-space: nowrap;
        }

        .toggle-btn {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform var(--transition-speed);
        }

        .sidebar.collapsed .toggle-btn {
            transform: rotate(180deg);
        }

        .sidebar-menu {
            flex: 1;
            overflow-y: auto;
            padding: 15px 0;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            margin: 5px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            color: var(--light);
            text-decoration: none;
            white-space: nowrap;
        }

        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .menu-item.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .menu-icon {
            font-size: 1.2rem;
            margin-right: 15px;
            min-width: 24px;
            text-align: center;
        }

        .menu-text {
            font-size: 0.95rem;
            transition: opacity var(--transition-speed);
        }

        .sidebar.collapsed .menu-text {
            opacity: 0;
            width: 0;
        }

        .sidebar-footer {
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .user-role {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .sidebar.collapsed .user-info {
            display: none;
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            height: 100vh;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            padding: 15px 25px;
            background: linear-gradient(to right, var(--dark), var(--darker));
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .search-bar {
            flex: 1;
            max-width: 600px;
            margin: 0 20px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border-radius: 20px;
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 0.9rem;
            outline: none;
            transition: all 0.3s;
        }

        .search-bar input:focus {
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 0 2px var(--accent);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
        }

        .top-bar-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--light);
            font-size: 1.2rem;
            cursor: pointer;
            position: relative;
            padding: 5px;
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Panel Styles */
        .panel {
            flex: 1;
            padding: 20px;
            display: none;
            flex-direction: column;
            overflow-y: auto;
        }

        .panel.active {
            display: flex;
        }

        .panel-header {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .panel-title {
            font-size: 1.5rem;
            font-weight: 600;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .panel-actions {
            display: flex;
            gap: 10px;
        }

        .panel-btn {
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            background-color: var(--accent);
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.2s;
        }

        .panel-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .panel-btn.secondary {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Chat Panel Styles */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            overflow: hidden;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 12px;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            align-self: flex-end;
            background-color: var(--primary);
            border-bottom-right-radius: 0;
            color: white;
        }

        .message.ai {
            align-self: flex-start;
            background-color: rgba(255, 255, 255, 0.1);
            border-bottom-left-radius: 0;
        }

        .message.system {
            align-self: center;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 8px 15px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            text-align: center;
            max-width: 90%;
        }

        .message-actions {
            position: absolute;
            top: -15px;
            right: 0;
            background-color: var(--darker);
            border-radius: 15px;
            padding: 3px;
            display: flex;
            gap: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .message:hover .message-actions {
            opacity: 1;
        }

        .message-action {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .message-action:hover {
            background-color: var(--accent);
            transform: scale(1.1);
        }

        .message-content {
            line-height: 1.5;
        }

        .message-content code {
            background-color: rgba(0, 0, 0, 0.3);
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.9em;
        }

        .message-content pre {
            background-color: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
        }

        .message-content pre code {
            background-color: transparent;
            padding: 0;
        }

        .message-meta {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 5px;
            margin-top: 5px;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 10px 15px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            align-self: flex-start;
            margin-bottom: 10px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingAnimation {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }

        .chat-input-container {
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.05);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 15px;
            border-radius: 20px;
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--light);
            font-size: 0.95rem;
            outline: none;
            resize: none;
            max-height: 150px;
            min-height: 50px;
            line-height: 1.5;
        }

        .chat-input:focus {
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 2px var(--accent);
        }

        .send-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(to bottom right, var(--primary), var(--secondary));
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 2px 10px rgba(110, 72, 170, 0.5);
        }

        .input-actions {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .input-action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--light);
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .input-action-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        /* DMX Control Panel Styles */
        .dmx-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .dmx-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .dmx-universe-selector {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .dmx-universe-visualization {
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            padding: 15px;
            overflow-x: auto;
        }

        .dmx-channels {
            display: flex;
            gap: 2px;
            margin-bottom: 10px;
        }

        .dmx-channel {
            width: 20px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.1);
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .dmx-channel-value {
            background-color: var(--accent);
            transition: height 0.2s;
        }

        .dmx-channel-number {
            position: absolute;
            bottom: -20px;
            width: 100%;
            text-align: center;
            font-size: 0.6rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .dmx-fixtures {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .dmx-fixture {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            width: calc(33.333% - 10px);
            min-width: 300px;
            transition: all 0.2s;
        }

        .dmx-fixture:hover {
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .fixture-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .fixture-name {
            font-weight: 600;
            color: var(--lighter);
        }

        .fixture-actions {
            display: flex;
            gap: 5px;
        }

        .fixture-btn {
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--light);
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .fixture-btn:hover {
            background-color: var(--accent);
        }

        .fixture-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .fixture-control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .control-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
            display: flex;
            justify-content: space-between;
        }

        .control-value {
            font-weight: 600;
            color: var(--light);
        }

        .control-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
        }

        .control-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
        }

        .dmx-presets {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .preset-btn {
            padding: 8px 15px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--light);
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }

        .preset-btn:hover {
            background-color: var(--accent);
            transform: translateY(-2px);
        }

        .dmx-animations {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .animation-btn {
            padding: 8px 15px;
            border-radius: 20px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border: none;
            color: white;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .animation-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 10px rgba(110, 72, 170, 0.5);
        }

        /* Learning Center Styles */
        .learning-container {
            flex: 1;
            display: flex;
            gap: 20px;
        }

        .knowledge-graph {
            flex: 1;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .graph-container {
            flex: 1;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .graph-node {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(to bottom right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            z-index: 2;
        }

        .graph-node:hover {
            transform: scale(1.1);
            z-index: 3;
        }

        .graph-connection {
            position: absolute;
            height: 2px;
            background-color: rgba(255, 255, 255, 0.3);
            transform-origin: left center;
            z-index: 1;
        }

        .learning-metrics {
            width: 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .metric-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .metric-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--light);
        }

        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .metric-chart {
            height: 100px;
        }

        /* Media Tools Styles */
        .media-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .media-preview {
            flex: 1;
            display: flex;
            gap: 20px;
        }

        .camera-preview {
            flex: 1;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .camera-feed {
            max-width: 100%;
            max-height: 100%;
            display: none;
        }

        .camera-placeholder {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.5);
        }

        .camera-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .audio-visualizer {
            width: 300px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .visualizer-canvas {
            width: 100%;
            height: 100px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }

        .audio-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .audio-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent);
            border: none;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .audio-btn:hover {
            transform: scale(1.1);
        }

        .audio-btn.recording {
            background-color: var(--danger);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(244, 67, 54, 0); }
            100% { box-shadow: 0 0 0 0 rgba(244, 67, 54, 0); }
        }

        .media-analysis {
            flex: 1;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
        }

        .analysis-result {
            margin-top: 15px;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        /* Settings Panel Styles */
        .settings-container {
            flex: 1;
            display: flex;
            gap: 20px;
        }

        .settings-menu {
            width: 250px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px 0;
        }

        .settings-menu-item {
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .settings-menu-item.active {
            background-color: var(--accent);
        }

        .settings-content {
            flex: 1;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
        }

        .settings-section {
            display: none;
        }

        .settings-section.active {
            display: block;
        }

        .settings-group {
            margin-bottom: 25px;
        }

        .settings-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .settings-label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .settings-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.2);
            transition: .4s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--accent);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        .select-dropdown {
            padding: 8px 12px;
            border-radius: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--light);
            font-size: 0.9rem;
            outline: none;
        }

        .select-dropdown:focus {
            box-shadow: 0 0 0 2px var(--accent);
        }

        .color-picker {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.3);
            cursor: pointer;
            background: conic-gradient(red, yellow, lime, cyan, blue, magenta, red);
        }

        /* God Mode Styles */
        .god-mode-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .god-mode-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: linear-gradient(to right, var(--darker), #0f0f23);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .god-mode-title {
            font-size: 1.3rem;
            font-weight: bold;
            background: linear-gradient(to right, #ff00ff, #00ffff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .god-mode-status {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--success);
            animation: pulse 2s infinite;
        }

        .god-mode-content {
            flex: 1;
            display: flex;
            gap: 20px;
        }

        .system-monitor {
            flex: 1;
            background-color: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .monitor-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .monitor-card {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .monitor-card-title {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .monitor-card-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--light);
        }

        .monitor-chart {
            height: 200px;
            margin-top: 10px;
        }

        .terminal {
            width: 400px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .terminal-header {
            padding: 10px 15px;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .terminal-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-btn.red { background-color: #ff5f56; }
        .terminal-btn.yellow { background-color: #ffbd2e; }
        .terminal-btn.green { background-color: #27c93f; }

        .terminal-title {
            flex: 1;
            text-align: center;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .terminal-body {
            flex: 1;
            padding: 15px;
            font-family: monospace;
            font-size: 0.9rem;
            color: #00ff00;
            overflow-y: auto;
            line-height: 1.4;
        }

        .terminal-input {
            display: flex;
            padding: 10px 15px;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .terminal-prompt {
            color: #00ff00;
            margin-right: 10px;
        }

        .terminal-cmd {
            flex: 1;
            background: transparent;
            border: none;
            color: #00ff00;
            font-family: monospace;
            outline: none;
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .dmx-fixture {
                width: calc(50% - 10px);
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                position: absolute;
                z-index: 1000;
                left: -100%;
            }
            
            .sidebar.active {
                left: 0;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .dmx-fixture {
                width: 100%;
            }
            
            .learning-container {
                flex-direction: column;
            }
            
            .learning-metrics {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .metric-card {
                width: calc(50% - 10px);
            }
        }

        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 10px;
                padding: 10px;
            }
            
            .search-bar {
                width: 100%;
                margin: 0;
            }
            
            .media-preview {
                flex-direction: column;
            }
            
            .audio-visualizer {
                width: 100%;
            }
            
            .god-mode-content {
                flex-direction: column;
            }
            
            .terminal {
                width: 100%;
            }
            
            .monitor-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 576px) {
            .monitor-grid {
                grid-template-columns: 1fr;
            }
            
            .metric-card {
                width: 100%;
            }
            
            .settings-container {
                flex-direction: column;
            }
            
            .settings-menu {
                width: 100%;
                display: flex;
                overflow-x: auto;
                padding: 10px;
            }
            
            .settings-menu-item {
                white-space: nowrap;
            }
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .floating {
            animation: float 3s ease-in-out infinite;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .text-muted {
            color: rgba(255, 255, 255, 0.6);
        }

        .mt-10 {
            margin-top: 10px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .p-10 {
            padding: 10px;
        }

        .p-20 {
            padding: 20px;
        }

        .flex-center {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Icons */
        .icon {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }
    </style>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTAgNDQ4Yy0xMTAuNSAwLTIwMC04OS41LTIwMC0yMDBTMTQ1LjUgNTYgMjU2IDU2czIwMCA4OS41IDIwMCAyMDAtODkuNSAyMDAtMjAwIDIwMHptNjguOC0xNDMuNGMtMjUuNyA4LjMtNjQuMiAxMy42LTY4LjggMTMuNi00LjYgMC00My4xLTUuMy02OC44LTEzLjYtMTYuMi01LjItMzAuNS0xNy43LTMwLjUtMzIuNiAwLTE5LjMgMjAuNC0zMy45IDk5LjMtMzMuOXM5OS4zIDE0LjYgOTkuMyAzMy45YzAgMTQuOS0xNC4zIDI3LjQtMzAuNSAzMi42em0tMTc4LjUtMjkuMWMtMTIuOSA4LjYtMTkuNCAxNy44LTE5LjQgMTcuOHMtNi41LTkuMi0xOS40LTE3LjhjLTYuNi00LjQtMTQuMS02LjUtMjEuNi02LjUtMTEuOSAwLTIzLjQgNy4zLTI5LjIgMTguOS0xMC4yIDIwLjQtOS45IDQ5LjkgOS45IDY5LjEgMTkuMyAxOC43IDUyLjggMjAuNSA3Mi4xIDIuMSAxOS4zLTE4LjcgMjAuMS01MC40IDIuMS03Mi4xLTUuOC0xMS42LTE3LjMtMTguOS0yOS4yLTE4LjktNy41IDAtMTUgMi4xLTIxLjYgNi41em0yMTkgMCAjYy0xMi45IDguNi0xOS40IDE3LjgtMTkuNCAxNy44czYuNS05LjIgMTkuNC0xNy44YzYuNi00LjQgMTQuMS02LjUgMjEuNi02LjUgMTEuOSAwIDIzLjQgNy4zIDI5LjIgMTguOSAxMC4yIDIwLjQgOS45IDQ5LjktOS45IDY5LjEtMTkuMyAxOC43LTUyLjggMjAuNS03Mi4xIDIuMS0xOS4zLTE4LjctMjAuMS01MC40LTIuMS03Mi4xIDUuOC0xMS42IDE3LjMtMTguOSAyOS4yLTE4LjkgNy41IDAgMTUgMi4xIDIxLjYgNi41eiIvPjwvc3ZnPg==" alt="OmniAI Logo">
                <span class="logo-text">OmniAI</span>
            </div>
            <button class="toggle-btn">
                <span class="icon">chevron_left</span>
            </button>
        </div>
        <div class="sidebar-menu">
            <a href="#" class="menu-item active" data-panel="chat">
                <span class="menu-icon icon">chat</span>
                <span class="menu-text">AI Chat</span>
            </a>
            <a href="#" class="menu-item" data-panel="dmx">
                <span class="menu-icon icon">lightbulb</span>
                <span class="menu-text">DMX Control</span>
            </a>
            <a href="#" class="menu-item" data-panel="learning">
                <span class="menu-icon icon">school</span>
                <span class="menu-text">Learning Center</span>
            </a>
            <a href="#" class="menu-item" data-panel="media">
                <span class="menu-icon icon">photo_camera</span>
                <span class="menu-text">Media Tools</span>
            </a>
            <a href="#" class="menu-item" data-panel="settings">
                <span class="menu-icon icon">settings</span>
                <span class="menu-text">Settings</span>
            </a>
            <a href="#" class="menu-item" data-panel="godmode">
                <span class="menu-icon icon">star</span>
                <span class="menu-text">God Mode</span>
            </a>
            <div class="menu-item" id="auth-menu-item">
                <span class="menu-icon icon">account_circle</span>
                <span class="menu-text">Sign In</span>
            </div>
        </div>
        <div class="sidebar-footer">
            <div class="user-profile">
                <div class="user-avatar">GU</div>
                <div class="user-info">
                    <span class="user-name">Guest User</span>
                    <span class="user-role">Limited Access</span>
                </div>
            </div>
            <button class="action-btn" id="help-btn">
                <span class="icon">help</span>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="top-bar">
            <button class="action-btn menu-toggle" id="menu-toggle">
                <span class="icon">menu</span>
            </button>
            <div class="search-bar">
                <span class="icon search-icon">search</span>
                <input type="text" placeholder="Search across OmniAI...">
            </div>
            <div class="top-bar-actions">
                <button class="action-btn">
                    <span class="icon">notifications</span>
                    <span class="notification-badge">3</span>
                </button>
                <button class="action-btn">
                    <span class="icon">apps</span>
                </button>
            </div>
        </div>

        <!-- Chat Panel -->
        <div class="panel active" id="chat-panel">
            <div class="panel-header">
                <h2 class="panel-title">OmniAI Chat</h2>
                <div class="panel-actions">
                    <button class="panel-btn secondary" id="new-chat-btn">
                        <span class="icon">add</span>
                        New Chat
                    </button>
                    <button class="panel-btn" id="voice-chat-btn">
                        <span class="icon">mic</span>
                        Voice Chat
                    </button>
                </div>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="chat-messages">
                    <div class="message system">
                        Welcome to Kendrick's AI! How can I assist you today? I can help with AI, DMX lighting control, media analysis, and much more.
                    </div>
                </div>
                <div class="chat-input-container">
                    <div class="input-actions">
                        <button class="input-action-btn" title="Attach File">
                            <span class="icon">attach_file</span>
                        </button>
                        <button class="input-action-btn" title="Take Photo">
                            <span class="icon">photo_camera</span>
                        </button>
                    </div>
                    <textarea class="chat-input" id="chat-input" placeholder="Type your message here..."></textarea>
                    <button class="send-btn" id="send-btn">
                        <span class="icon">send</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- DMX Control Panel -->
        <div class="panel" id="dmx-panel">
            <div class="panel-header">
                <h2 class="panel-title">DMX Lighting Control</h2>
                <div class="panel-actions">
                    <button class="panel-btn secondary" id="dmx-connect-btn">
                        <span class="icon">usb</span>
                        Connect Interface
                    </button>
                    <button class="panel-btn" id="dmx-add-fixture-btn">
                        <span class="icon">add</span>
                        Add Fixture
                    </button>
                </div>
            </div>
            <div class="dmx-container">
                <div class="dmx-header">
                    <div class="dmx-universe-selector">
                        <select class="select-dropdown" id="dmx-universe-select">
                            <option value="1">Universe 1</option>
                            <option value="2">Universe 2</option>
                            <option value="3">Universe 3</option>
                            <option value="4">Universe 4</option>
                        </select>
                        <span class="text-muted">512 Channels</span>
                    </div>
                    <div class="dmx-status">
                        <span class="text-muted">Status:</span>
                        <span id="dmx-status-text">Disconnected</span>
                    </div>
                </div>
                <div class="dmx-universe-visualization">
                    <div class="dmx-channels" id="dmx-channels"></div>
                    <div class="dmx-fixtures" id="dmx-fixtures">
                        <!-- Fixtures will be added here dynamically -->
                    </div>
                </div>
                <div class="dmx-presets">
                    <h3>Presets</h3>
                    <div id="dmx-preset-buttons">
                        <button class="preset-btn" data-preset="all-on">All On</button>
                        <button class="preset-btn" data-preset="all-off">All Off</button>
                        <button class="preset-btn" data-preset="warm-white">Warm White</button>
                        <button class="preset-btn" data-preset="cool-white">Cool White</button>
                        <button class="preset-btn" data-preset="red">Red</button>
                        <button class="preset-btn" data-preset="green">Green</button>
                        <button class="preset-btn" data-preset="blue">Blue</button>
                        <button class="preset-btn" data-preset="purple">Purple</button>
                        <button class="preset-btn" data-preset="orange">Orange</button>
                        <button class="preset-btn" data-preset="teal">Teal</button>
                    </div>
                </div>
                <div class="dmx-animations">
                    <h3>Animations</h3>
                    <div id="dmx-animation-buttons">
                        <button class="animation-btn" data-animation="pulse">
                            <span class="icon">flash_on</span>
                            Pulse
                        </button>
                        <button class="animation-btn" data-animation="chase">
                            <span class="icon">directions_run</span>
                            Chase
                        </button>
                        <button class="animation-btn" data-animation="rainbow">
                            <span class="icon">gradient</span>
                            Rainbow
                        </button>
                        <button class="animation-btn" data-animation="strobe">
                            <span class="icon">highlight</span>
                            Strobe
                        </button>
                        <button class="animation-btn" data-animation="fade">
                            <span class="icon">tonality</span>
                            Fade
                        </button>
                        <button class="animation-btn" data-animation="sound-reactive">
                            <span class="icon">graphic_eq</span>
                            Sound Reactive
                        </button>
                        <button class="animation-btn" data-animation="theater-chase">
                            <span class="icon">local_movies</span>
                            Theater Chase
                        </button>
                        <button class="animation-btn" data-animation="color-wipe">
                            <span class="icon">format_color_fill</span>
                            Color Wipe
                        </button>
                        <button class="animation-btn" data-animation="fire">
                            <span class="icon">whatshot</span>
                            Fire Effect
                        </button>
                        <button class="animation-btn" data-animation="meteor">
                            <span class="icon">brightness_3</span>
                            Meteor
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Learning Center Panel -->
        <div class="panel" id="learning-panel">
            <div class="panel-header">
                <h2 class="panel-title">Learning Center</h2>
                <div class="panel-actions">
                    <button class="panel-btn secondary" id="refresh-knowledge-btn">
                        <span class="icon">refresh</span>
                        Refresh
                    </button>
                    <button class="panel-btn" id="expand-knowledge-btn">
                        <span class="icon">auto_awesome</span>
                        Expand Knowledge
                    </button>
                </div>
            </div>
            <div class="learning-container">
                <div class="knowledge-graph">
                    <h3>Knowledge Graph</h3>
                    <div class="graph-container" id="knowledge-graph">
                        <div class="graph-node" style="top: 50%; left: 50%;">AI</div>
                        <!-- Nodes will be added dynamically -->
                    </div>
                </div>
                <div class="learning-metrics">
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Knowledge Base</span>
                            <span class="icon">database</span>
                        </div>
                        <span class="metric-value">10.2M</span>
                        <span class="text-muted">Concepts</span>
                        <div class="metric-chart">
                            <canvas id="knowledge-chart"></canvas>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Learning Rate</span>
                            <span class="icon">trending_up</span>
                        </div>
                        <span class="metric-value">+1.4%</span>
                        <span class="text-muted">Daily Growth</span>
                        <div class="metric-chart">
                            <canvas id="learning-chart"></canvas>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Accuracy</span>
                            <span class="icon">verified</span>
                        </div>
                        <span class="metric-value">98.7%</span>
                        <span class="text-muted">Response Quality</span>
                        <div class="metric-chart">
                            <canvas id="accuracy-chart"></canvas>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-header">
                            <span class="metric-title">Connections</span>
                            <span class="icon">share</span>
                        </div>
                        <span class="metric-value">4.8B</span>
                        <span class="text-muted">Concept Links</span>
                        <div class="metric-chart">
                            <canvas id="connections-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Media Tools Panel -->
        <div class="panel" id="media-panel">
            <div class="panel-header">
                <h2 class="panel-title">Media Tools</h2>
                <div class="panel-actions">
                    <button class="panel-btn secondary" id="media-settings-btn">
                        <span class="icon">settings</span>
                        Settings
                    </button>
                    <button class="panel-btn" id="analyze-media-btn">
                        <span class="icon">auto_awesome</span>
                        Analyze
                    </button>
                </div>
            </div>
            <div class="media-container">
                <div class="media-preview">
                    <div class="camera-preview">
                        <video class="camera-feed" id="camera-feed" autoplay></video>
                        <div class="camera-placeholder">
                            <span class="icon" style="font-size: 3rem;">photo_camera</span>
                            <p>Camera feed will appear here</p>
                            <button class="panel-btn" id="start-camera-btn">
                                <span class="icon">videocam</span>
                                Start Camera
                            </button>
                        </div>
                        <div class="camera-controls hidden">
                            <button class="panel-btn secondary" id="capture-image-btn">
                                <span class="icon">photo_camera</span>
                                Capture
                            </button>
                            <button class="panel-btn secondary" id="stop-camera-btn">
                                <span class="icon">videocam_off</span>
                                Stop
                            </button>
                        </div>
                    </div>
                    <div class="audio-visualizer">
                        <h3>Audio Analysis</h3>
                        <canvas class="visualizer-canvas" id="audio-visualizer"></canvas>
                        <div class="audio-controls">
                            <button class="audio-btn" id="start-audio-btn">
                                <span class="icon">mic</span>
                            </button>
                            <button class="audio-btn hidden" id="stop-audio-btn">
                                <span class="icon">stop</span>
                            </button>
                            <button class="audio-btn" id="play-audio-btn">
                                <span class="icon">play_arrow</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="media-analysis">
                    <h3>Analysis Results</h3>
                    <div class="analysis-result" id="media-analysis-result">
                        No media analyzed yet. Capture an image or record audio to begin analysis.
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Panel -->
        <div class="panel" id="settings-panel">
            <div class="settings-container">
                <div class="settings-menu">
                    <div class="settings-menu-item active" data-section="general">
                        <span class="icon">settings</span>
                        General
                    </div>
                    <div class="settings-menu-item" data-section="ai">
                        <span class="icon">psychology</span>
                        AI Settings
                    </div>
                    <div class="settings-menu-item" data-section="dmx">
                        <span class="icon">lightbulb</span>
                        DMX Settings
                    </div>
                    <div class="settings-menu-item" data-section="voice">
                        <span class="icon">record_voice_over</span>
                        Voice Control
                    </div>
                    <div class="settings-menu-item" data-section="appearance">
                        <span class="icon">palette</span>
                        Appearance
                    </div>
                    <div class="settings-menu-item" data-section="account">
                        <span class="icon">account_circle</span>
                        Account
                    </div>
                    <div class="settings-menu-item" data-section="about">
                        <span class="icon">info</span>
                        About
                    </div>
                </div>
                <div class="settings-content">
                    <div class="settings-section active" id="general-settings">
                        <h2 class="settings-title">General Settings</h2>
                        <div class="settings-group">
                            <h3 class="settings-title">Application</h3>
                            <div class="settings-item">
                                <span class="settings-label">Startup Mode</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="startup-mode">
                                        <option value="chat">Chat</option>
                                        <option value="dmx">DMX Control</option>
                                        <option value="learning">Learning Center</option>
                                        <option value="last">Last Used Panel</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Auto-update</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Notifications</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">Performance</h3>
                            <div class="settings-item">
                                <span class="settings-label">Hardware Acceleration</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Memory Optimization</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="memory-optimization">
                                        <option value="balanced">Balanced</option>
                                        <option value="performance">Performance</option>
                                        <option value="conservative">Conservatve</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section" id="ai-settings">
                        <h2 class="settings-title">AI Settings</h2>
                        <div class="settings-group">
                            <h3 class="settings-title">Response Behavior</h3>
                            <div class="settings-item">
                                <span class="settings-label">Response Length</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="response-length">
                                        <option value="short">Short</option>
                                        <option value="medium" selected>Medium</option>
                                        <option value="long">Long</option>
                                        <option value="detailed">Very Detailed</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Creativity Level</span>
                                <div class="settings-control">
                                    <input type="range" min="0" max="100" value="70" class="control-slider" id="creativity-slider">
                                    <span class="control-value" id="creativity-value">70%</span>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Knowledge Depth</span>
                                <div class="settings-control">
                                    <input type="range" min="0" max="100" value="85" class="control-slider" id="knowledge-slider">
                                    <span class="control-value" id="knowledge-value">85%</span>
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">Advanced AI</h3>
                            <div class="settings-item">
                                <span class="settings-label">Self-Learning</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Internet Access</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Multi-Modal Processing</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section" id="dmx-settings">
                        <h2 class="settings-title">DMX Settings</h2>
                        <div class="settings-group">
                            <h3 class="settings-title">Connection</h3>
                            <div class="settings-item">
                                <span class="settings-label">Default Interface</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="dmx-interface">
                                        <option value="auto">Auto Detect</option>
                                        <option value="enttec">Enttec DMX USB Pro</option>
                                        <option value="artnet">Art-Net</option>
                                        <option value="sACN">sACN</option>
                                        <option value="opendmx">Open DMX USB</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Auto-Connect</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Refresh Rate</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="dmx-refresh-rate">
                                        <option value="30">30 Hz</option>
                                        <option value="40" selected>40 Hz</option>
                                        <option value="44">44 Hz</option>
                                        <option value="30">30 Hz</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">Fixtures</h3>
                            <div class="settings-item">
                                <span class="settings-label">Default Fixture Library</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="fixture-library">
                                        <option value="default">Default Library</option>
                                        <option value="extended">Extended Library</option>
                                        <option value="custom">Custom Library</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Auto-Save Fixtures</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section" id="voice-settings">
                        <h2 class="settings-title">Voice Control</h2>
                        <div class="settings-group">
                            <h3 class="settings-title">Voice Recognition</h3>
                            <div class="settings-item">
                                <span class="settings-label">Enable Voice Control</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Activation Phrase</span>
                                <div class="settings-control">
                                    <input type="text" class="select-dropdown" value="Hey OmniAI" id="activation-phrase">
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Language</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="voice-language">
                                        <option value="en-US">English (US)</option>
                                        <option value="en-GB">English (UK)</option>
                                        <option value="es-ES">Spanish</option>
                                        <option value="fr-FR">French</option>
                                        <option value="de-DE">German</option>
                                        <option value="it-IT">Italian</option>
                                        <option value="pt-BR">Portuguese</option>
                                        <option value="ru-RU">Russian</option>
                                        <option value="zh-CN">Chinese</option>
                                        <option value="ja-JP">Japanese</option>
                                        <option value="ko-KR">Korean</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">Voice Response</h3>
                            <div class="settings-item">
                                <span class="settings-label">Voice Output</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Voice Style</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="voice-style">
                                        <option value="neutral">Neutral</option>
                                        <option value="friendly">Friendly</option>
                                        <option value="professional">Professional</option>
                                        <option value="warm">Warm</option>
                                        <option value="robotic">Robotic</option>
                                        <option value="custom">Custom</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Speech Rate</span>
                                <div class="settings-control">
                                    <input type="range" min="0.5" max="2" step="0.1" value="1" class="control-slider" id="speech-rate-slider">
                                    <span class="control-value" id="speech-rate-value">1.0x</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section" id="appearance-settings">
                        <h2 class="settings-title">Appearance</h2>
                        <div class="settings-group">
                            <h3 class="settings-title">Theme</h3>
                            <div class="settings-item">
                                <span class="settings-label">Theme Mode</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="theme-mode">
                                        <option value="dark">Dark</option>
                                        <option value="light">Light</option>
                                        <option value="system">System Default</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Primary Color</span>
                                <div class="settings-control">
                                    <input type="color" class="color-picker" value="#6e48aa" id="primary-color">
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Accent Color</span>
                                <div class="settings-control">
                                    <input type="color" class="color-picker" value="#4776E6" id="accent-color">
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">UI Customization</h3>
                            <div class="settings-item">
                                <span class="settings-label">Sidebar Position</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="sidebar-position">
                                        <option value="left">Left</option>
                                        <option value="right">Right</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Animation Level</span>
                                <div class="settings-control">
                                    <select class="select-dropdown" id="animation-level">
                                        <option value="full">Full</option>
                                        <option value="reduced">Reduced</option>
                                        <option value="none">None</option>
                                    </select>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Font Size</span>
                                <div class="settings-control">
                                    <input type="range" min="12" max="20" value="14" class="control-slider" id="font-size-slider">
                                    <span class="control-value" id="font-size-value">14px</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section" id="account-settings">
                        <h2 class="settings-title">Account</h2>
                        <div class="settings-group">
                            <h3 class="settings-title">Authentication</h3>
                            <div id="auth-status">
                                <div class="settings-item">
                                    <span class="settings-label">Login Status</span>
                                    <div class="settings-control">
                                        <span class="text-muted">Not logged in</span>
                                    </div>
                                </div>
                                <div class="flex-center mt-20">
                                    <button class="panel-btn" id="login-btn">
                                        <span class="icon">login</span>
                                        Sign In
                                    </button>
                                </div>
                            </div>
                            <div id="auth-details" class="hidden">
                                <div class="settings-item">
                                    <span class="settings-label">Account Type</span>
                                    <div class="settings-control">
                                        <span id="account-type">Free</span>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <span class="settings-label">Email</span>
                                    <div class="settings-control">
                                        <span id="account-email">user@example.com</span>
                                    </div>
                                </div>
                                <div class="settings-item">
                                    <span class="settings-label">Subscription</span>
                                    <div class="settings-control">
                                        <button class="panel-btn secondary" id="upgrade-btn">
                                            <span class="icon">workspace_premium</span>
                                            Upgrade
                                        </button>
                                    </div>
                                </div>
                                <div class="flex-center mt-20">
                                    <button class="panel-btn secondary" id="logout-btn">
                                        <span class="icon">logout</span>
                                        Sign Out
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">Data & Privacy</h3>
                            <div class="settings-item">
                                <span class="settings-label">Data Collection</span>
                                <div class="settings-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Delete Account</span>
                                <div class="settings-control">
                                    <button class="panel-btn secondary" id="delete-account-btn">
                                        <span class="icon">delete</span>
                                        Delete Account
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="settings-section" id="about-settings">
                        <h2 class="settings-title">About OmniAI</h2>
                        <div class="settings-group">
                            <div class="settings-item">
                                <span class="settings-label">Version</span>
                                <div class="settings-control">
                                    <span>2.4.1</span>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Build Date</span>
                                <div class="settings-control">
                                    <span>2023-11-15</span>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">License</span>
                                <div class="settings-control">
                                    <span>Proprietary</span>
                                </div>
                            </div>
                        </div>
                        <div class="settings-group">
                            <h3 class="settings-title">System Information</h3>
                            <div class="settings-item">
                                <span class="settings-label">Platform</span>
                                <div class="settings-control">
                                    <span id="platform-info">Web Browser</span>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Memory</span>
                                <div class="settings-control">
                                    <span id="memory-info">Loading...</span>
                                </div>
                            </div>
                            <div class="settings-item">
                                <span class="settings-label">Performance</span>
                                <div class="settings-control">
                                    <span id="performance-info">Loading...</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex-center mt-20">
                            <button class="panel-btn secondary" id="check-updates-btn">
                                <span class="icon">update</span>
                                Check for Updates
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- God Mode Panel -->
        <div class="panel" id="godmode-panel">
            <div class="panel-header">
                <h2 class="panel-title">God Mode</h2>
                <div class="panel-actions">
                    <button class="panel-btn secondary" id="godmode-settings-btn">
                        <span class="icon">tune</span>
                        Settings
                    </button>
                    <button class="panel-btn" id="activate-godmode-btn">
                        <span class="icon">auto_awesome</span>
                        Activate God Mode
                    </button>
                </div>
            </div>
            <div class="god-mode-container">
                <div class="god-mode-header">
                    <div>
                        <h3 class="god-mode-title">OmniAI God Mode</h3>
                        <p class="text-muted">Unleash the full potential of OmniAI with elevated capabilities</p>
                    </div>
                    <div class="god-mode-status">
                        <div class="status-indicator"></div>
                        <span>System Ready</span>
                    </div>
                </div>
                <div class="god-mode-content">
                    <div class="system-monitor">
                        <h3>System Monitor</h3>
                        <div class="monitor-grid">
                            <div class="monitor-card">
                                <span class="monitor-card-title">AI Processing Power</span>
                                <span class="monitor-card-value">87%</span>
                                <div class="monitor-chart">
                                    <canvas id="ai-power-chart"></canvas>
                                </div>
                            </div>
                            <div class="monitor-card">
                                <span class="monitor-card-title">Knowledge Base</span>
                                <span class="monitor-card-value">10.2M</span>
                                <div class="monitor-chart">
                                    <canvas id="knowledge-base-chart"></canvas>
                                </div>
                            </div>
                            <div class="monitor-card">
                                <span class="monitor-card-title">Response Time</span>
                                <span class="monitor-card-value">142ms</span>
                                <div class="monitor-chart">
                                    <canvas id="response-time-chart"></canvas>
                                </div>
                            </div>
                            <div class="monitor-card">
                                <span class="monitor-card-title">Memory Usage</span>
                                <span class="monitor-card-value">64%</span>
                                <div class="monitor-chart">
                                    <canvas id="memory-usage-chart"></canvas>
                                </div>
                            </div>
                            <div class="monitor-card">
                                <span class="monitor-card-title">Active Connections</span>
                                <span class="monitor-card-value">18</span>
                                <div class="monitor-chart">
                                    <canvas id="connections-chart"></canvas>
                                </div>
                            </div>
                            <div class="monitor-card">
                                <span class="monitor-card-title">Learning Rate</span>
                                <span class="monitor-card-value">+1.4%</span>
                                <div class="monitor-chart">
                                    <canvas id="learning-rate-chart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="terminal">
                        <div class="terminal-header">
                            <div class="terminal-btn red"></div>
                            <div class="terminal-btn yellow"></div>
                            <div class="terminal-btn green"></div>
                            <div class="terminal-title">OmniAI Terminal</div>
                        </div>
                        <div class="terminal-body" id="terminal-output">
                            OmniAI God Mode Terminal - Type 'help' for commands
                            <br><br>
                            System initialized...
                            <br>
                            Neural networks loaded...
                            <br>
                            Knowledge base connected...
                            <br>
                            Ready for commands.
                            <br><br>
                        </div>
                        <div class="terminal-input">
                            <span class="terminal-prompt">$</span>
                            <input type="text" class="terminal-cmd" id="terminal-input">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal hidden" id="auth-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Sign In to OmniAI</h3>
                <button class="modal-close" id="auth-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Login</button>
                    <button class="auth-tab" data-tab="register">Register</button>
                    <button class="auth-tab" data-tab="reset">Reset Password</button>
                </div>
                <div class="auth-content active" id="login-tab">
                    <div class="auth-form">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="login-email" placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="login-password" placeholder="">
                        </div>
                        <div class="form-options">
                            <label class="checkbox">
                                <input type="checkbox" id="remember-me">
                                <span>Remember me</span>
                            </label>
                            <a href="#" class="forgot-password" data-tab="reset">Forgot password?</a>
                        </div>
                        <button class="auth-btn" id="login-submit">Sign In</button>
                        <div class="auth-divider">
                            <span>or continue with</span>
                        </div>
                        <div class="auth-providers">
                            <button class="provider-btn google">
                                <span class="icon">google</span>
                                Google
                            </button>
                            <button class="provider-btn github">
                                <span class="icon">code</span>
                                GitHub
                            </button>
                            <button class="provider-btn microsoft">
                                <span class="icon">windows</span>
                                Microsoft
                            </button>
                        </div>
                    </div>
                </div>
                <div class="auth-content" id="register-tab">
                    <div class="auth-form">
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" id="register-name" placeholder="Your Name">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="register-email" placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="register-password" placeholder="">
                        </div>
                        <div class="form-group">
                            <label>Confirm Password</label>
                            <input type="password" id="register-confirm" placeholder="">
                        </div>
                        <div class="form-options">
                            <label class="checkbox">
                                <input type="checkbox" id="accept-terms">
                                <span>I accept the <a href="#">Terms of Service</a></span>
                            </label>
                        </div>
                        <button class="auth-btn" id="register-submit">Create Account</button>
                    </div>
                </div>
                <div class="auth-content" id="reset-tab">
                    <div class="auth-form">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="reset-email" placeholder="your@email.com">
                        </div>
                        <p class="auth-info">Enter your email address and we'll send you a link to reset your password.</p>
                        <button class="auth-btn" id="reset-submit">Send Reset Link</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DMX Fixture Modal -->
    <div class="modal hidden" id="fixture-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add DMX Fixture</h3>
                <button class="modal-close" id="fixture-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Fixture Type</label>
                    <select class="select-dropdown" id="fixture-type">
                        <option value="dimmer">Dimmer</option>
                        <option value="rgb">RGB Light</option>
                        <option value="rgbw">RGBW Light</option>
                        <option value="moving-head">Moving Head</option>
                        <option value="scanner">Scanner</option>
                        <option value="par">PAR Can</option>
                        <option value="strobe">Strobe</option>
                        <option value="laser">Laser</option>
                        <option value="hazer">Hazer</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Fixture Name</label>
                    <input type="text" id="fixture-name" placeholder="My Fixture">
                </div>
                <div class="form-group">
                    <label>Starting Channel</label>
                    <input type="number" id="fixture-channel" min="1" max="512" value="1">
                </div>
                <div class="form-group">
                    <label>Channel Mode</label>
                    <select class="select-dropdown" id="fixture-mode">
                        <option value="1ch">1 Channel (Dimmer)</option>
                        <option value="3ch">3 Channel (RGB)</option>
                        <option value="4ch">4 Channel (RGBW)</option>
                        <option value="6ch">6 Channel (RGB + Dimmer + Strobe)</option>
                        <option value="8ch">8 Channel (Moving Head Basic)</option>
                        <option value="16ch">16 Channel (Moving Head Advanced)</option>
                        <option value="custom">Custom</option>
                    </select>
                </div>
                <div class="form-group hidden" id="custom-channels-group">
                    <label>Custom Channel Configuration</label>
                    <textarea id="custom-channels" placeholder="Enter channel configuration (e.g., 1: Dimmer, 2: Red, 3: Green, 4: Blue)"></textarea>
                </div>
                <div class="form-actions">
                    <button class="modal-btn secondary" id="fixture-cancel">Cancel</button>
                    <button class="modal-btn" id="fixture-submit">Add Fixture</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const sidebar = document.querySelector('.sidebar');
            const toggleBtn = document.querySelector('.toggle-btn');
            const menuToggle = document.getElementById('menu-toggle');
            const panels = document.querySelectorAll('.panel');
            const menuItems = document.querySelectorAll('.menu-item');
            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');
            const chatMessages = document.getElementById('chat-messages');
            const newChatBtn = document.getElementById('new-chat-btn');
            const voiceChatBtn = document.getElementById('voice-chat-btn');
            const dmxConnectBtn = document.getElementById('dmx-connect-btn');
            const dmxAddFixtureBtn = document.getElementById('dmx-add-fixture-btn');
            const dmxChannels = document.getElementById('dmx-channels');
            const dmxFixtures = document.getElementById('dmx-fixtures');
            const dmxPresetButtons = document.querySelectorAll('.preset-btn');
            const dmxAnimationButtons = document.querySelectorAll('.animation-btn');
            const startCameraBtn = document.getElementById('start-camera-btn');
            const stopCameraBtn = document.getElementById('stop-camera-btn');
            const captureImageBtn = document.getElementById('capture-image-btn');
            const cameraFeed = document.getElementById('camera-feed');
            const startAudioBtn = document.getElementById('start-audio-btn');
            const stopAudioBtn = document.getElementById('stop-audio-btn');
            const playAudioBtn = document.getElementById('play-audio-btn');
            const audioVisualizer = document.getElementById('audio-visualizer');
            const analyzeMediaBtn = document.getElementById('analyze-media-btn');
            const mediaAnalysisResult = document.getElementById('media-analysis-result');
            const settingsMenuItems = document.querySelectorAll('.settings-menu-item');
            const settingsSections = document.querySelectorAll('.settings-section');
            const loginBtn = document.getElementById('login-btn');
            const logoutBtn = document.getElementById('logout-btn');
            const authModal = document.getElementById('auth-modal');
            const authModalClose = document.getElementById('auth-modal-close');
            const authTabs = document.querySelectorAll('.auth-tab');
            const authContents = document.querySelectorAll('.auth-content');
            const fixtureModal = document.getElementById('fixture-modal');
            const fixtureModalClose = document.getElementById('fixture-modal-close');
            const fixtureTypeSelect = document.getElementById('fixture-type');
            const fixtureModeSelect = document.getElementById('fixture-mode');
            const customChannelsGroup = document.getElementById('custom-channels-group');
            const activateGodModeBtn = document.getElementById('activate-godmode-btn');
            const terminalInput = document.getElementById('terminal-input');
            const terminalOutput = document.getElementById('terminal-output');
            
            // State variables
            let isSidebarCollapsed = false;
            let currentPanel = 'chat';
            let isTyping = false;
            let recognition;
            let dmxUniverse = new Array(512).fill(0);
            let dmxConnected = false;
            let dmxPort;
            let audioContext;
            let analyser;
            let microphone;
            let mediaRecorder;
            let audioChunks = [];
            let animationId;
            let isGodModeActive = false;
            
            // Initialize DMX channel visualization
            function initDMXChannels() {
                dmxChannels.innerHTML = '';
                for (let i = 0; i < 32; i++) { // Show first 32 channels for demo
                    const channel = document.createElement('div');
                    channel.className = 'dmx-channel';
                    channel.dataset.channel = i + 1;
                    
                    const value = document.createElement('div');
                    value.className = 'dmx-channel-value';
                    value.style.height = '0%';
                    
                    const number = document.createElement('div');
                    number.className = 'dmx-channel-number';
                    number.textContent = i + 1;
                    
                    channel.appendChild(value);
                    channel.appendChild(number);
                    dmxChannels.appendChild(channel);
                }
            }
            
            // Update DMX channel visualization
            function updateDMXChannels() {
                const channelElements = document.querySelectorAll('.dmx-channel');
                channelElements.forEach(channelEl => {
                    const channelNum = parseInt(channelEl.dataset.channel) - 1;
                    const valueEl = channelEl.querySelector('.dmx-channel-value');
                    const value = dmxUniverse[channelNum];
                    valueEl.style.height = `${(value / 255) * 100}%`;
                    valueEl.style.backgroundColor = `hsl(${value}, 100%, 50%)`;
                });
            }
            
            // Add sample DMX fixtures
            function addSampleFixtures() {
                addFixture('Moving Head 1', 'moving-head', 1, 16);
                addFixture('RGB Par Can 1', 'rgb', 17, 3);
                addFixture('Dimmer 1', 'dimmer', 20, 1);
                addFixture('Strobe 1', 'strobe', 21, 1);
                addFixture('Hazer 1', 'hazer', 22, 2);
            }
            
            // Add DMX fixture
            function addFixture(name, type, startChannel, channelCount) {
                const fixture = document.createElement('div');
                fixture.className = 'dmx-fixture';
                fixture.dataset.type = type;
                fixture.dataset.start = startChannel;
                fixture.dataset.count = channelCount;
                
                const header = document.createElement('div');
                header.className = 'fixture-header';
                
                const nameEl = document.createElement('div');
                nameEl.className = 'fixture-name';
                nameEl.textContent = name;
                
                const actions = document.createElement('div');
                actions.className = 'fixture-actions';
                
                const removeBtn = document.createElement('button');
                removeBtn.className = 'fixture-btn';
                removeBtn.innerHTML = '<span class="icon">close</span>';
                removeBtn.addEventListener('click', () => {
                    fixture.remove();
                });
                
                actions.appendChild(removeBtn);
                header.appendChild(nameEl);
                header.appendChild(actions);
                
                const controls = document.createElement('div');
                controls.className = 'fixture-controls';
                
                if (type === 'dimmer') {
                    controls.appendChild(createSliderControl('Intensity', startChannel, 0, 255));
                } else if (type === 'rgb' || type === 'rgbw') {
                    controls.appendChild(createSliderControl('Red', startChannel, 0, 255));
                    controls.appendChild(createSliderControl('Green', startChannel + 1, 0, 255));
                    controls.appendChild(createSliderControl('Blue', startChannel + 2, 0, 255));
                    if (type === 'rgbw') {
                        controls.appendChild(createSliderControl('White', startChannel + 3, 0, 255));
                    }
                } else if (type === 'moving-head') {
                    controls.appendChild(createSliderControl('Pan', startChannel, 0, 255));
                    controls.appendChild(createSliderControl('Pan Fine', startChannel + 1, 0, 255));
                    controls.appendChild(createSliderControl('Tilt', startChannel + 2, 0, 255));
                    controls.appendChild(createSliderControl('Tilt Fine', startChannel + 3, 0, 255));
                    controls.appendChild(createSliderControl('Speed', startChannel + 4, 0, 255));
                    controls.appendChild(createSliderControl('Red', startChannel + 5, 0, 255));
                    controls.appendChild(createSliderControl('Green', startChannel + 6, 0, 255));
                    controls.appendChild(createSliderControl('Blue', startChannel + 7, 0, 255));
                    controls.appendChild(createSliderControl('Dimmer', startChannel + 8, 0, 255));
                    controls.appendChild(createSliderControl('Strobe', startChannel + 9, 0, 255));
                } else if (type === 'strobe') {
                    controls.appendChild(createSliderControl('Speed', startChannel, 0, 255));
                } else if (type === 'hazer') {
                    controls.appendChild(createSliderControl('Intensity', startChannel, 0, 255));
                    controls.appendChild(createSliderControl('Fan Speed', startChannel + 1, 0, 255));
                }
                
                fixture.appendChild(header);
                fixture.appendChild(controls);
                dmxFixtures.appendChild(fixture);
            }
            
            // Create slider control for fixture
            function createSliderControl(label, channel, min, max) {
                const group = document.createElement('div');
                group.className = 'fixture-control-group';
                
                const labelEl = document.createElement('div');
                labelEl.className = 'control-label';
                
                const span = document.createElement('span');
                span.textContent = label;
                
                const value = document.createElement('span');
                value.className = 'control-value';
                value.textContent = '0';
                
                labelEl.appendChild(span);
                labelEl.appendChild(value);
                
                const slider = document.createElement('input');
                slider.type = 'range';
                slider.className = 'control-slider';
                slider.min = min;
                slider.max = max;
                slider.value = 0;
                slider.dataset.channel = channel;
                
                slider.addEventListener('input', function() {
                    value.textContent = this.value;
                    dmxUniverse[channel - 1] = parseInt(this.value);
                    updateDMXChannels();
                    if (dmxConnected) {
                        sendDMXData();
                    }
                });
                
                group.appendChild(labelEl);
                group.appendChild(slider);
                return group;
            }
            
            // Connect to DMX interface
            async function connectDMX() {
                try {
                    if (!navigator.serial) {
                        throw new Error('Web Serial API not supported in this browser.');
                    }
                    
                    dmxPort = await navigator.serial.requestPort();
                    await dmxPort.open({ baudRate: 250000 });
                    
                    dmxConnected = true;
                    dmxConnectBtn.innerHTML = '<span class="icon">usb</span> Disconnect';
                    document.getElementById('dmx-status-text').textContent = 'Connected';
                    document.getElementById('dmx-status-text').style.color = 'var(--success)';
                    
                    // Send initial DMX data
                    sendDMXData();
                } catch (error) {
                    console.error('Error connecting to DMX interface:', error);
                    addMessage('system', `DMX Connection Error: ${error.message}`);
                }
            }
            
            // Send DMX data
            async function sendDMXData() {
                if (!dmxPort || !dmxConnected) return;
                
                try {
                    const writer = dmxPort.writable.getWriter();
                    
                    // DMX start code
                    await writer.write(new Uint8Array([0x7E, 0x06, 0x01, 0x02, 0x00]));
                    
                    // DMX universe data (first 32 channels for demo)
                    const data = new Uint8Array(dmxUniverse.slice(0, 32));
                    await writer.write(data);
                    
                    // DMX end code
                    await writer.write(new Uint8Array([0xE7]));
                    
                    writer.releaseLock();
                } catch (error) {
                    console.error('Error sending DMX data:', error);
                    dmxConnected = false;
                    dmxConnectBtn.innerHTML = '<span class="icon">usb</span> Connect Interface';
                    document.getElementById('dmx-status-text').textContent = 'Disconnected';
                    document.getElementById('dmx-status-text').style.color = 'var(--danger)';
                }
            }
            
            // Apply DMX preset
            function applyDMXPreset(preset) {
                switch (preset) {
                    case 'all-on':
                        dmxUniverse = dmxUniverse.map(() => 255);
                        break;
                    case 'all-off':
                        dmxUniverse = dmxUniverse.map(() => 0);
                        break;
                    case 'warm-white':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 255;   // R
                            dmxUniverse[i+1] = 200; // G
                            dmxUniverse[i+2] = 150; // B
                        }
                        break;
                    case 'cool-white':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 200;   // R
                            dmxUniverse[i+1] = 220; // G
                            dmxUniverse[i+2] = 255; // B
                        }
                        break;
                    case 'red':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 255;   // R
                            dmxUniverse[i+1] = 0;   // G
                            dmxUniverse[i+2] = 0;   // B
                        }
                        break;
                    case 'green':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 0;     // R
                            dmxUniverse[i+1] = 255; // G
                            dmxUniverse[i+2] = 0;   // B
                        }
                        break;
                    case 'blue':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 0;     // R
                            dmxUniverse[i+1] = 0;   // G
                            dmxUniverse[i+2] = 255; // B
                        }
                        break;
                    case 'purple':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 150;   // R
                            dmxUniverse[i+1] = 0;   // G
                            dmxUniverse[i+2] = 255; // B
                        }
                        break;
                    case 'orange':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 255;   // R
                            dmxUniverse[i+1] = 165; // G
                            dmxUniverse[i+2] = 0;   // B
                        }
                        break;
                    case 'teal':
                        for (let i = 0; i < dmxUniverse.length; i += 3) {
                            dmxUniverse[i] = 0;     // R
                            dmxUniverse[i+1] = 200; // G
                            dmxUniverse[i+2] = 200; // B
                        }
                        break;
                }
                
                // Update all sliders
                document.querySelectorAll('.control-slider').forEach(slider => {
                    const channel = parseInt(slider.dataset.channel) - 1;
                    slider.value = dmxUniverse[channel];
                    slider.dispatchEvent(new Event('input'));
                });
                
                updateDMXChannels();
                if (dmxConnected) {
                    sendDMXData();
                }
            }
            
            // Run DMX animation
            function runDMXAnimation(animation) {
                if (animationId) {
                    cancelAnimationFrame(animationId);
                }
                
                let startTime = Date.now();
                let hue = 0;
                
                function animate() {
                    const time = Date.now() - startTime;
                    
                    switch (animation) {
                        case 'pulse':
                            const pulseValue = Math.floor((Math.sin(time / 500) + 1) * 127);
                            for (let i = 0; i < dmxUniverse.length; i++) {
                                dmxUniverse[i] = pulseValue;
                            }
                            break;
                            
                        case 'chase':
                            const pos = Math.floor(time / 100) % 32;
                            dmxUniverse.fill(0);
                            dmxUniverse[pos] = 255;
                            dmxUniverse[(pos + 1) % 32] = 200;
                            dmxUniverse[(pos + 2) % 32] = 150;
                            break;
                            
                        case 'rainbow':
                            hue = (hue + 1) % 360;
                            for (let i = 0; i < dmxUniverse.length; i += 3) {
                                const rgb = hslToRgb(hue / 360, 1, 0.5);
                                dmxUniverse[i] = rgb[0];
                                dmxUniverse[i+1] = rgb[1];
                                dmxUniverse[i+2] = rgb[2];
                            }
                            break;
                            
                        case 'strobe':
                            const strobeValue = Math.floor(time / 100) % 2 === 0 ? 255 : 0;
                            for (let i = 0; i < dmxUniverse.length; i++) {
                                dmxUniverse[i] = strobeValue;
                            }
                            break;
                            
                        case 'fade':
                            const fadeValue = Math.floor((Math.sin(time / 1000) + 1) * 127);
                            for (let i = 0; i < dmxUniverse.length; i++) {
                                dmxUniverse[i] = fadeValue;
                            }
                            break;
                    }
                    
                    // Update all sliders
                    document.querySelectorAll('.control-slider').forEach(slider => {
                        const channel = parseInt(slider.dataset.channel) - 1;
                        slider.value = dmxUniverse[channel];
                        const valueEl = slider.parentElement.querySelector('.control-value');
                        if (valueEl) {
                            valueEl.textContent = slider.value;
                        }
                    });
                    
                    updateDMXChannels();
                    if (dmxConnected) {
                        sendDMXData();
                    }
                    
                    animationId = requestAnimationFrame(animate);
                }
                
                animate();
            }
            
            // HSL to RGB conversion
            function hslToRgb(h, s, l) {
                let r, g, b;
                
                if (s === 0) {
                    r = g = b = l;
                } else {
                    const hue2rgb = (p, q, t) => {
                        if (t < 0) t += 1;
                        if (t > 1) t -= 1;
                        if (t < 1/6) return p + (q - p) * 6 * t;
                        if (t < 1/2) return q;
                        if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                        return p;
                    };
                    
                    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                    const p = 2 * l - q;
                    
                    r = hue2rgb(p, q, h + 1/3);
                    g = hue2rgb(p, q, h);
                    b = hue2rgb(p, q, h - 1/3);
                }
                
                return [
                    Math.round(r * 255),
                    Math.round(g * 255),
                    Math.round(b * 255)
                ];
            }
            
            // Initialize knowledge graph
            function initKnowledgeGraph() {
                const graphContainer = document.getElementById('knowledge-graph');
                const centerNode = graphContainer.querySelector('.graph-node');
                
                // Add sample nodes
                const topics = ['AI', 'Machine Learning', 'Neural Networks', 'DMX', 'Lighting', 'Programming', 'Web Development', 'Music', 'Art'];
                
                topics.forEach((topic, i) => {
                    if (topic === 'AI') return;
                    
                    const angle = (i / (topics.length - 1)) * Math.PI * 2;
                    const radius = 150;
                    const x = Math.cos(angle) * radius + 250;
                    const y = Math.sin(angle) * radius + 150;
                    
                    const node = document.createElement('div');
                    node.className = 'graph-node floating';
                    node.style.top = `${y}px`;
                    node.style.left = `${x}px`;
                    node.textContent = topic;
                    
                    // Add connection line
                    const connection = document.createElement('div');
                    connection.className = 'graph-connection';
                    const length = Math.sqrt(Math.pow(x - 250, 2) + Math.pow(y - 150, 2));
                    const angleDeg = Math.atan2(y - 150, x - 250) * 180 / Math.PI;
                    
                    connection.style.width = `${length}px`;
                    connection.style.top = '150px';
                    connection.style.left = '250px';
                    connection.style.transform = `rotate(${angleDeg}deg)`;
                    
                    graphContainer.appendChild(connection);
                    graphContainer.appendChild(node);
                });
            }
            
            // Initialize charts
            function initCharts() {
                // Knowledge chart
                const knowledgeCtx = document.getElementById('knowledge-chart').getContext('2d');
                new Chart(knowledgeCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            data: [8.2, 8.5, 8.9, 9.3, 9.8, 10.2],
                            borderColor: '#6e48aa',
                            backgroundColor: 'rgba(110, 72, 170, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { display: false },
                            y: { display: false }
                        }
                    }
                });
                
                // Learning chart
                const learningCtx = document.getElementById('learning-chart').getContext('2d');
                new Chart(learningCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            data: [1.2, 1.3, 1.4, 1.3, 1.4, 1.4],
                            backgroundColor: '#9d50bb',
                            borderColor: '#6e48aa',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { display: false },
                            y: { display: false }
                        }
                    }
                });
                
                // Accuracy chart
                const accuracyCtx = document.getElementById('accuracy-chart').getContext('2d');
                new Chart(accuracyCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Correct', 'Incorrect'],
                        datasets: [{
                            data: [98.7, 1.3],
                            backgroundColor: ['#4CAF50', '#F44336'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: {
                            legend: { display: false }
                        }
                    }
                });
                
                // Connections chart
                const connectionsCtx = document.getElementById('connections-chart').getContext('2d');
                new Chart(connectionsCtx, {
                    type: 'radar',
                    data: {
                        labels: ['AI', 'DMX', 'Media', 'Learning', 'Code', 'Design'],
                        datasets: [{
                            data: [90, 80, 85, 95, 88, 75],
                            backgroundColor: 'rgba(71, 118, 230, 0.2)',
                            borderColor: '#4776E6',
                            pointBackgroundColor: '#4776E6',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: '#4776E6'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            r: {
                                angleLines: { display: false },
                                suggestedMin: 0,
                                suggestedMax: 100,
                                ticks: { display: false }
                            }
                        }
                    }
                });
                
                // God mode charts
                const aiPowerCtx = document.getElementById('ai-power-chart').getContext('2d');
                new Chart(aiPowerCtx, {
                    type: 'line',
                    data: {
                        labels: Array(20).fill(''),
                        datasets: [{
                            data: [65, 70, 75, 80, 82, 85, 83, 87, 85, 84, 86, 87, 85, 86, 87, 86, 85, 87, 86, 87],
                            borderColor: '#00ff00',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { display: false },
                            y: { display: false }
                        }
                    }
                });
                
                const knowledgeBaseCtx = document.getElementById('knowledge-base-chart').getContext('2d');
                new Chart(knowledgeBaseCtx, {
                    type: 'line',
                    data: {
                        labels: Array(20).fill(''),
                        datasets: [{
                            data: [8.2, 8.5, 8.9, 9.3, 9.5, 9.7, 9.8, 9.9, 10.0, 10.1, 10.1, 10.1, 10.1, 10.2, 10.2, 10.2, 10.2, 10.2, 10.2, 10.2],
                            borderColor: '#ff00ff',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { display: false },
                            y: { display: false }
                        }
                    }
                });
                
                const responseTimeCtx = document.getElementById('response-time-chart').getContext('2d');
                new Chart(responseTimeCtx, {
                    type: 'line',
                    data: {
                        labels: Array(20).fill(''),
                        datasets: [{
                            data: [180, 175, 170, 165, 160, 155, 150, 148, 145, 143, 142, 142, 142, 142, 142, 142, 142, 142, 142, 142],
                            borderColor: '#00ffff',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { display: false },
                            y: { display: false }
                        }
                    }
                });
                
                const memoryUsageCtx = document.getElementById('memory-usage-chart').getContext('2d');
                new Chart(memoryUsageCtx, {
                    type: 'line',
                    data: {
                        labels: Array(20).fill(''),
                        datasets: [{
                            data: [60, 62, 63, 64, 63, 64, 63, 64, 63, 64, 63, 64, 63, 64, 63, 64, 63, 64, 63, 64],
                            borderColor: '#ffff00',
                            borderWidth: 2,
                            pointRadius: 0,
                            tension: 0.1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false }
                        },
                        scales: {
                            x: { display: false },
                            y: { display: false }
                        }
                    }
                });
            }
            
            // Start camera
            async function startCamera() {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    cameraFeed.srcObject = stream;
                    cameraFeed.style.display = 'block';
                    document.querySelector('.camera-placeholder').style.display = 'none';
                    document.querySelector('.camera-controls').classList.remove('hidden');
                } catch (error) {
                    console.error('Error accessing camera:', error);
                    addMessage('system', `Camera Error: ${error.message}`);
                }
            }
            
            // Stop camera
            function stopCamera() {
                const stream = cameraFeed.srcObject;
                if (stream) {
                    const tracks = stream.getTracks();
                    tracks.forEach(track => track.stop());
                    cameraFeed.srcObject = null;
                    cameraFeed.style.display = 'none';
                    document.querySelector('.camera-placeholder').style.display = 'block';
                    document.querySelector('.camera-controls').classList.add('hidden');
                }
            }
            
            // Capture image
            function captureImage() {
                const canvas = document.createElement('canvas');
                canvas.width = cameraFeed.videoWidth;
                canvas.height = cameraFeed.videoHeight;
                const ctx = canvas.getContext('2d');
                ctx.drawImage(cameraFeed, 0, 0, canvas.width, canvas.height);
                
                // Display the captured image
                mediaAnalysisResult.innerHTML = `
                    <h4>Image Analysis</h4>
                    <img src="${canvas.toDataURL('image/png')}" style="max-width: 100%; border-radius: 5px; margin: 10px 0;">
                    <p>Analyzing image using computer vision...</p>
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                `;
                
                // Simulate analysis
                setTimeout(() => {
                    const objects = ['person', 'computer', 'desk', 'monitor', 'keyboard', 'mouse'];
                    const colors = ['red', 'blue', 'green', 'yellow', 'black', 'white'];
                    const randomObjects = [...new Set(Array(3).fill().map(() => objects[Math.floor(Math.random() * objects.length)]))];
                    const randomColors = [...new Set(Array(2).fill().map(() => colors[Math.floor(Math.random() * colors.length)]))];
                    
                    mediaAnalysisResult.innerHTML = `
                        <h4>Image Analysis Results</h4>
                        <img src="${canvas.toDataURL('image/png')}" style="max-width: 100%; border-radius: 5px; margin: 10px 0;">
                        <p><strong>Detected Objects:</strong> ${randomObjects.join(', ')}</p>
                        <p><strong>Dominant Colors:</strong> ${randomColors.join(', ')}</p>
                        <p><strong>Sentiment:</strong> ${Math.random() > 0.5 ? 'Positive' : 'Neutral'}</p>
                        <p><strong>Text Detected:</strong> ${Math.random() > 0.7 ? 'Sample text detected' : 'No text detected'}</p>
                    `;
                }, 2000);
            }
            
            // Start audio recording
            async function startAudioRecording() {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    analyser = audioContext.createAnalyser();
                    analyser.fftSize = 256;
                    
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    microphone = audioContext.createMediaStreamSource(stream);
                    microphone.connect(analyser);
                    
                    mediaRecorder = new MediaRecorder(stream);
                    audioChunks = [];
                    
                    mediaRecorder.ondataavailable = event => {
                        audioChunks.push(event.data);
                    };
                    
                    mediaRecorder.onstop = () => {
                        const audioBlob = new Blob(audioChunks, { type: 'audio/wav' });
                        const audioUrl = URL.createObjectURL(audioBlob);
                        playAudioBtn.dataset.audio = audioUrl;
                    };
                    
                    mediaRecorder.start();
                    
                    startAudioBtn.classList.add('hidden');
                    stopAudioBtn.classList.remove('hidden');
                    startAudioBtn.classList.remove('recording');
                    stopAudioBtn.classList.add('recording');
                    
                    // Start visualization
                    visualizeAudio();
                } catch (error) {
                    console.error('Error accessing microphone:', error);
                    addMessage('system', `Microphone Error: ${error.message}`);
                }
            }
            
            // Stop audio recording
            function stopAudioRecording() {
                if (mediaRecorder && mediaRecorder.state !== 'inactive') {
                    mediaRecorder.stop();
                    
                    const tracks = microphone?.mediaStream?.getTracks();
                    if (tracks) {
                        tracks.forEach(track => track.stop());
                    }
                    
                    if (audioContext) {
                        audioContext.close();
                    }
                    
                    startAudioBtn.classList.remove('hidden');
                    stopAudioBtn.classList.add('hidden');
                    startAudioBtn.classList.remove('recording');
                    stopAudioBtn.classList.remove('recording');
                    
                    if (animationId) {
                        cancelAnimationFrame(animationId);
                    }
                }
            }
            
            // Play recorded audio
            function playRecordedAudio() {
                const audioUrl = playAudioBtn.dataset.audio;
                if (audioUrl) {
                    const audio = new Audio(audioUrl);
                    audio.play();
                    
                    // Analyze audio
                    mediaAnalysisResult.innerHTML = `
                        <h4>Audio Analysis</h4>
                        <p>Playing recorded audio...</p>
                        <p>Analyzing audio patterns...</p>
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    `;
                    
                    setTimeout(() => {
                        const emotions = ['happy', 'neutral', 'sad', 'excited', 'angry'];
                        const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
                        const words = Math.floor(Math.random() * 50) + 10;
                        const sentiment = Math.random() > 0.3 ? 'Positive' : (Math.random() > 0.5 ? 'Negative' : 'Neutral');
                        
                        mediaAnalysisResult.innerHTML = `
                            <h4>Audio Analysis Results</h4>
                            <audio controls src="${audioUrl}" style="width: 100%; margin: 10px 0;"></audio>
                            <p><strong>Detected Emotion:</strong> ${randomEmotion}</p>
                            <p><strong>Words Spoken:</strong> ${words}</p>
                            <p><strong>Sentiment:</strong> ${sentiment}</p>
                            <p><strong>Background Noise:</strong> ${Math.random() > 0.7 ? 'Low' : (Math.random() > 0.4 ? 'Medium' : 'High')}</p>
                        `;
                    }, 3000);
                }
            }
            
            // Visualize audio
            function visualizeAudio() {
                const canvas = document.getElementById('audio-visualizer');
                const ctx = canvas.getContext('2d');
                const bufferLength = analyser.frequencyBinCount;
                const dataArray = new Uint8Array(bufferLength);
                
                function draw() {
                    animationId = requestAnimationFrame(draw);
                    analyser.getByteFrequencyData(dataArray);
                    
                    ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    
                    const barWidth = (canvas.width / bufferLength) * 2.5;
                    let x = 0;
                    
                    for (let i = 0; i < bufferLength; i++) {
                        const barHeight = dataArray[i] / 2;
                        
                        ctx.fillStyle = `hsl(${i * 2}, 100%, 50%)`;
                        ctx.fillRect(x, canvas.height - barHeight, barWidth, barHeight);
                        
                        x += barWidth + 1;
                    }
                }
                
                draw();
            }
            
            // Analyze media
            function analyzeMedia() {
                mediaAnalysisResult.innerHTML = `
                    <h4>Media Analysis</h4>
                    <p>No media captured yet. Please use the camera or audio recorder to capture media for analysis.</p>
                `;
            }
            
            // Add chat message
            function addMessage(sender, content) {
                const message = document.createElement('div');
                message.className = `message ${sender}`;
                
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';
                messageContent.innerHTML = marked.parse(content);
                
                const messageMeta = document.createElement('div');
                messageMeta.className = 'message-meta';
                
                const time = document.createElement('span');
                time.textContent = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                
                if (sender === 'ai') {
                    const messageActions = document.createElement('div');
                    messageActions.className = 'message-actions';
                    
                    const copyBtn = document.createElement('button');
                    copyBtn.className = 'message-action';
                    copyBtn.title = 'Copy';
                    copyBtn.innerHTML = '<span class="icon">content_copy</span>';
                    copyBtn.addEventListener('click', () => {
                        navigator.clipboard.writeText(content);
                    });
                    
                    const editBtn = document.createElement('button');
                    editBtn.className = 'message-action';
                    editBtn.title = 'Edit';
                    editBtn.innerHTML = '<span class="icon">edit</span>';
                    
                    const regenerateBtn = document.createElement('button');
                    regenerateBtn.className = 'message-action';
                    regenerateBtn.title = 'Regenerate';
                    regenerateBtn.innerHTML = '<span class="icon">refresh</span>';
                    
                    messageActions.appendChild(copyBtn);
                    messageActions.appendChild(editBtn);
                    messageActions.appendChild(regenerateBtn);
                    message.appendChild(messageActions);
                    
                    messageMeta.innerHTML = '<span class="icon" style="font-size: 0.8rem;">schedule</span>';
                }
                
                messageMeta.appendChild(time);
                message.appendChild(messageContent);
                message.appendChild(messageMeta);
                chatMessages.appendChild(message);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Highlight code blocks
                message.querySelectorAll('pre code').forEach(block => {
                    hljs.highlightElement(block);
                });
            }
            
            // Show typing indicator
            function showTypingIndicator() {
                const typing = document.createElement('div');
                typing.className = 'typing-indicator';
                typing.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                chatMessages.appendChild(typing);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                return typing;
            }
            
            // Hide typing indicator
            function hideTypingIndicator(typing) {
                if (typing) {
                    typing.remove();
                }
            }
            
            // Process user input
            function processUserInput() {
                const input = chatInput.value.trim();
                if (!input) return;
                
                addMessage('user', input);
                chatInput.value = '';
                
                const typing = showTypingIndicator();
                isTyping = true;
                
                // Simulate AI response after a delay
                setTimeout(() => {
                    hideTypingIndicator(typing);
                    isTyping = false;
                    
                    // Generate AI response based on input
                    let response = generateAIResponse(input);
                    addMessage('ai', response);
                }, 1000 + Math.random() * 2000);
            }
            
            // Generate AI response
            function generateAIResponse(input) {
                const lowerInput = input.toLowerCase();
                
                // Check for specific commands
                if (lowerInput.includes('hello') || lowerInput.includes('hi')) {
                    return `Hello! How can I assist you today? I can help with AI, DMX lighting control, media analysis, and much more.`;
                } else if (lowerInput.includes('dmx') || lowerInput.includes('light')) {
                    return `### DMX Lighting Control Help\n\nI can help you with DMX lighting control. Here are some things you can do:\n\n- Connect to a DMX interface\n- Add and control fixtures\n- Apply presets (all on, all off, colors)\n- Run animations (pulse, chase, rainbow)\n\nTry switching to the DMX Control panel to get started.`;
                } else if (lowerInput.includes('learn') || lowerInput.includes('knowledge')) {
                    return `### Learning Center\n\nMy knowledge base currently contains over 10 million concepts with 4.8 billion connections. I'm continuously learning and expanding my knowledge.\n\nYou can visualize my knowledge graph in the Learning Center panel.`;
                } else if (lowerInput.includes('camera') || lowerInput.includes('photo')) {
                    return `### Media Tools\n\nYou can use the camera in the Media Tools panel to capture images for analysis. I can detect objects, colors, and text in images.\n\nTry it out by switching to the Media Tools panel and clicking "Start Camera".`;
                } else if (lowerInput.includes('audio') || lowerInput.includes('sound')) {
                    return `### Audio Analysis\n\nThe Media Tools panel includes audio recording and analysis capabilities. I can detect emotions, sentiment, and other characteristics from audio.\n\nSwitch to the Media Tools panel and try recording some audio.`;
                } else if (lowerInput.includes('god mode') || lowerInput.includes('advanced')) {
                    return `### God Mode\n\nGod Mode provides advanced access to my systems and capabilities. In God Mode you can:\n\n- Monitor system performance\n- Access the terminal for direct commands\n- Adjust advanced AI parameters\n\nSwitch to the God Mode panel to explore these features.`;
                } else if (lowerInput.includes('help')) {
                    return `### OmniAI Help\n\nI'm an advanced AI assistant with multiple capabilities:\n\n1. **AI Chat** - Natural language conversations\n2. **DMX Control** - Professional lighting control\n3. **Learning Center** - Knowledge visualization\n4. **Media Tools** - Camera and audio analysis\n5. **God Mode** - Advanced system access\n\nSimply ask me about any of these areas or switch panels to access specific features.`;
                } else if (lowerInput.includes('code') || lowerInput.includes('program')) {
                    return `### Coding Assistance\n\nHere's an example of how I can help with code:\n\n\`\`\`javascript\n// Example: Fibonacci sequence in JavaScript\nfunction fibonacci(n) {\n  if (n <= 1) return n;\n  return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nconsole.log(fibonacci(10)); // Output: 55\n\`\`\`\n\nI can help with many programming languages including JavaScript, Python, C++, and more.`;
                } else {
                    // Default response - generate something plausible
                    const responses = [
                        `I've analyzed your input and here's what I can tell you about "${input}". This topic relates to several areas in my knowledge base including artificial intelligence, user interfaces, and system integration. Would you like me to elaborate on any specific aspect?`,
                        `Interesting point about "${input}". Based on my knowledge, this connects to recent developments in AI and human-computer interaction. I can provide more details if you'd like.`,
                        `Regarding "${input}", my analysis suggests several relevant considerations. First, the technical aspects involve multi-modal processing. Second, there are user experience implications. Would you like me to expand on either of these?`,
                        `I understand you're asking about "${input}". This is a complex topic that touches on several of my capabilities. I can provide a high-level overview or dive deep into specific technical details. What would you prefer?`,
                        `"${input}" is a fascinating subject. My knowledge base contains extensive information on this topic, including historical context, current implementations, and future projections. What specific angle would you like to explore?`
                    ];
                    
                    return responses[Math.floor(Math.random() * responses.length)];
                }
            }
            
            // Toggle sidebar
            function toggleSidebar() {
                isSidebarCollapsed = !isSidebarCollapsed;
                sidebar.classList.toggle('collapsed', isSidebarCollapsed);
                localStorage.setItem('sidebarCollapsed', isSidebarCollapsed);
            }
            
            // Switch panel
            function switchPanel(panelId) {
                currentPanel = panelId;
                panels.forEach(panel => {
                    panel.classList.toggle('active', panel.id === `${panelId}-panel`);
                });
                
                menuItems.forEach(item => {
                    item.classList.toggle('active', item.dataset.panel === panelId);
                });
                
                localStorage.setItem('currentPanel', panelId);
                
                // Special handling for certain panels
                if (panelId === 'dmx') {
                    updateDMXChannels();
                } else if (panelId === 'godmode' && isGodModeActive) {
                    // Refresh god mode data
                }
            }
            
            // Initialize voice recognition
            function initVoiceRecognition() {
                try {
                    recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
                    recognition.continuous = false;
                    recognition.interimResults = false;
                    
                    recognition.onstart = () => {
                        voiceChatBtn.innerHTML = '<span class="icon">mic</span> Listening...';
                        voiceChatBtn.style.backgroundColor = 'var(--danger)';
                    };
                    
                    recognition.onend = () => {
                        voiceChatBtn.innerHTML = '<span class="icon">mic</span> Voice Chat';
                        voiceChatBtn.style.backgroundColor = '';
                    };
                    
                    recognition.onresult = (event) => {
                        const transcript = event.results[0][0].transcript;
                        chatInput.value = transcript;
                        processUserInput();
                    };
                    
                    recognition.onerror = (event) => {
                        console.error('Speech recognition error', event.error);
                        addMessage('system', `Voice recognition error: ${event.error}`);
                    };
                } catch (error) {
                    console.error('Speech recognition not supported', error);
                    addMessage('system', 'Voice recognition is not supported in your browser.');
                }
            }
            
            // Start voice chat
            function startVoiceChat() {
                if (recognition) {
                    try {
                        recognition.start();
                    } catch (error) {
                        console.error('Error starting voice recognition:', error);
                        addMessage('system', `Error starting voice recognition: ${error.message}`);
                    }
                } else {
                    initVoiceRecognition();
                    startVoiceChat();
                }
            }
            
            // Activate God Mode
            function activateGodMode() {
                isGodModeActive = !isGodModeActive;
                
                if (isGodModeActive) {
                    activateGodModeBtn.innerHTML = '<span class="icon">auto_awesome</span> Deactivate God Mode';
                    activateGodModeBtn.style.backgroundColor = 'var(--danger)';
                    addMessage('system', 'God Mode activated. Elevated capabilities unlocked.');
                    
                    // Simulate system monitoring
                    simulateSystemMonitoring();
                } else {
                    activateGodModeBtn.innerHTML = '<span class="icon">auto_awesome</span> Activate God Mode';
                    activateGodModeBtn.style.backgroundColor = '';
                    addMessage('system', 'God Mode deactivated. Returning to standard operations.');
                    
                    // Stop monitoring
                    if (animationId) {
                        cancelAnimationFrame(animationId);
                    }
                }
            }
            
            // Simulate system monitoring
            function simulateSystemMonitoring() {
                let time = 0;
                
                function update() {
                    time += 0.1;
                    
                    // Update terminal with random system messages
                    if (Math.random() > 0.9) {
                        const messages = [
                            'System check: Neural networks operating at 87% capacity',
                            'Knowledge base integrity verified',
                            'Memory optimization in progress',
                            'New connections established with external data sources',
                            'Processing queue: 12 tasks pending',
                            'Security scan completed - no threats detected',
                            'Performance metrics within optimal parameters',
                            'Updating semantic understanding models',
                            'Analyzing recent interactions for learning opportunities',
                            'Network latency: 42ms'
                        ];
                        
                        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                        terminalOutput.innerHTML += `${new Date().toLocaleTimeString()}: ${randomMessage}<br>`;
                        terminalOutput.scrollTop = terminalOutput.scrollHeight;
                    }
                    
                    animationId = requestAnimationFrame(update);
                }
                
                update();
            }
            
            // Process terminal command
            function processTerminalCommand(command) {
                terminalOutput.innerHTML += `$ ${command}<br>`;
                
                const lowerCommand = command.toLowerCase();
                
                if (lowerCommand === 'help') {
                    terminalOutput.innerHTML += `Available commands:<br>
                    - help: Show this help<br>
                    - status: Show system status<br>
                    - optimize: Run system optimization<br>
                    - scan: Perform security scan<br>
                    - learn: Force learning cycle<br>
                    - clear: Clear terminal<br><br>`;
                } else if (lowerCommand === 'status') {
                    terminalOutput.innerHTML += `System Status:<br>
                    - AI Processing: 87%<br>
                    - Memory Usage: 64%<br>
                    - Knowledge Base: 10.2M concepts<br>
                    - Active Connections: 18<br>
                    - Response Time: 142ms avg<br><br>`;
                } else if (lowerCommand === 'optimize') {
                    terminalOutput.innerHTML += `Running system optimization...<br>
                    - Memory defragmentation complete<br>
                    - Neural network cache cleared<br>
                    - Knowledge graph reindexed<br>
                    - Optimization complete<br><br>`;
                } else if (lowerCommand === 'scan') {
                    terminalOutput.innerHTML += `Performing security scan...<br>
                    - Scanning network interfaces...<br>
                    - Checking knowledge integrity...<br>
                    - Verifying system modules...<br>
                    - Scan complete: No threats detected<br><br>`;
                } else if (lowerCommand === 'learn') {
                    terminalOutput.innerHTML += `Initiating forced learning cycle...<br>
                    - Analyzing recent interactions...<br>
                    - Updating concept associations...<br>
                    - Optimizing response patterns...<br>
                    - Learning complete: Knowledge expanded by 0.4%<br><br>`;
                } else if (lowerCommand === 'clear') {
                    terminalOutput.innerHTML = 'Terminal cleared.<br><br>';
                } else {
                    terminalOutput.innerHTML += `Command not recognized. Type 'help' for available commands.<br><br>`;
                }
                
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
                terminalInput.value = '';
            }
            
            // Initialize application
            function init() {
                // Restore sidebar state
                isSidebarCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
                sidebar.classList.toggle('collapsed', isSidebarCollapsed);
                
                // Restore current panel
                const savedPanel = localStorage.getItem('currentPanel');
                if (savedPanel) {
                    switchPanel(savedPanel);
                }
                
                // Initialize components
                initDMXChannels();
                addSampleFixtures();
                initKnowledgeGraph();
                initCharts();
                initVoiceRecognition();
                
                // Add sample chat messages
                addMessage('ai', `Welcome to OmniAI! I'm your advanced AI assistant with capabilities in multiple domains. How can I help you today?`);
                
                // Set up event listeners
                toggleBtn.addEventListener('click', toggleSidebar);
                menuToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('active');
                });
                
                menuItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        switchPanel(item.dataset.panel);
                    });
                });
                
                sendBtn.addEventListener('click', processUserInput);
                chatInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        processUserInput();
                    }
                });
                
                newChatBtn.addEventListener('click', () => {
                    chatMessages.innerHTML = '';
                    addMessage('system', 'New chat started. How can I help you?');
                });
                
                voiceChatBtn.addEventListener('click', startVoiceChat);
                
                dmxConnectBtn.addEventListener('click', () => {
                    if (dmxConnected) {
                        // Disconnect
                        dmxConnected = false;
                        dmxConnectBtn.innerHTML = '<span class="icon">usb</span> Connect Interface';
                        document.getElementById('dmx-status-text').textContent = 'Disconnected';
                        document.getElementById('dmx-status-text').style.color = 'var(--danger)';
                        
                        if (dmxPort) {
                            dmxPort.close();
                        }
                    } else {
                        connectDMX();
                    }
                });
                
                dmxAddFixtureBtn.addEventListener('click', () => {
                    fixtureModal.classList.remove('hidden');
                });
                
                fixtureModalClose.addEventListener('click', () => {
                    fixtureModal.classList.add('hidden');
                });
                
                fixtureTypeSelect.addEventListener('change', function() {
                    const type = this.value;
                    const modeSelect = document.getElementById('fixture-mode');
                    
                    // Set default mode based on type
                    if (type === 'dimmer') {
                        modeSelect.value = '1ch';
                    } else if (type === 'rgb') {
                        modeSelect.value = '3ch';
                    } else if (type === 'rgbw') {
                        modeSelect.value = '4ch';
                    } else if (type === 'moving-head') {
                        modeSelect.value = '16ch';
                    } else if (type === 'strobe') {
                        modeSelect.value = '1ch';
                    }
                });
                
                fixtureModeSelect.addEventListener('change', function() {
                    customChannelsGroup.classList.toggle('hidden', this.value !== 'custom');
                });
                
                document.getElementById('fixture-submit').addEventListener('click', () => {
                    const name = document.getElementById('fixture-name').value || 'New Fixture';
                    const type = document.getElementById('fixture-type').value;
                    const startChannel = parseInt(document.getElementById('fixture-channel').value) || 1;
                    const mode = document.getElementById('fixture-mode').value;
                    
                    let channelCount;
                    switch (mode) {
                        case '1ch': channelCount = 1; break;
                        case '3ch': channelCount = 3; break;
                        case '4ch': channelCount = 4; break;
                        case '6ch': channelCount = 6; break;
                        case '8ch': channelCount = 8; break;
                        case '16ch': channelCount = 16; break;
                        case 'custom':
                            channelCount = parseInt(prompt('Enter number of channels:'));
                            if (isNaN(channelCount) || channelCount < 1 || channelCount > 512) {
                                alert('Please enter a valid number between 1 and 512');
                                return;
                            }
                            break;
                    }
                    
                    addFixture(name, type, startChannel, channelCount);
                    fixtureModal.classList.add('hidden');
                });
                
                document.getElementById('fixture-cancel').addEventListener('click', () => {
                    fixtureModal.classList.add('hidden');
                });
                
                dmxPresetButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        applyDMXPreset(btn.dataset.preset);
                    });
                });
                
                dmxAnimationButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        runDMXAnimation(btn.dataset.animation);
                    });
                });
                
                startCameraBtn.addEventListener('click', startCamera);
                stopCameraBtn.addEventListener('click', stopCamera);
                captureImageBtn.addEventListener('click', captureImage);
                
                startAudioBtn.addEventListener('click', startAudioRecording);
                stopAudioBtn.addEventListener('click', stopAudioRecording);
                playAudioBtn.addEventListener('click', playRecordedAudio);
                
                analyzeMediaBtn.addEventListener('click', analyzeMedia);
                
                settingsMenuItems.forEach(item => {
                    item.addEventListener('click', function() {
                        const section = this.dataset.section;
                        
                        settingsMenuItems.forEach(i => i.classList.remove('active'));
                        this.classList.add('active');
                        
                        settingsSections.forEach(sec => sec.classList.remove('active'));
                        document.getElementById(`${section}-settings`).classList.add('active');
                    });
                });
                
                // Slider value displays
                document.getElementById('creativity-slider').addEventListener('input', function() {
                    document.getElementById('creativity-value').textContent = `${this.value}%`;
                });
                
                document.getElementById('knowledge-slider').addEventListener('input', function() {
                    document.getElementById('knowledge-value').textContent = `${this.value}%`;
                });
                
                document.getElementById('speech-rate-slider').addEventListener('input', function() {
                    document.getElementById('speech-rate-value').textContent = `${this.value}x`;
                });
                
                document.getElementById('font-size-slider').addEventListener('input', function() {
                    document.getElementById('font-size-value').textContent = `${this.value}px`;
                    document.documentElement.style.fontSize = `${this.value}px`;
                });
                
                loginBtn.addEventListener('click', () => {
                    authModal.classList.remove('hidden');
                });
                
                authModalClose.addEventListener('click', () => {
                    authModal.classList.add('hidden');
                });
                
                authTabs.forEach(tab => {
                    tab.addEventListener('click', function() {
                        const tabId = this.dataset.tab;
                        
                        authTabs.forEach(t => t.classList.remove('active'));
                        this.classList.add('active');
                        
                        authContents.forEach(c => c.classList.remove('active'));
                        document.getElementById(`${tabId}-tab`).classList.add('active');
                    });
                });
                
                document.querySelector('.forgot-password').addEventListener('click', function(e) {
                    e.preventDefault();
                    authTabs.forEach(t => t.classList.remove('active'));
                    document.querySelector('.auth-tab[data-tab="reset"]').classList.add('active');
                    
                    authContents.forEach(c => c.classList.remove('active'));
                    document.getElementById('reset-tab').classList.add('active');
                });
                
                activateGodModeBtn.addEventListener('click', activateGodMode);
                
                terminalInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        processTerminalCommand(this.value);
                    }
                });
                
                // Simulate system info
                document.getElementById('platform-info').textContent = navigator.platform;
                
                if (navigator.deviceMemory) {
                    document.getElementById('memory-info').textContent = `${navigator.deviceMemory} GB`;
                } else {
                    document.getElementById('memory-info').textContent = 'Not available';
                }
                
                // Simulate performance info
                const perf = [
                    'Excellent', 'Good', 'Average', 'Fair'
                ][Math.floor(Math.random() * 4)];
                document.getElementById('performance-info').textContent = perf;
            }
            
            // Initialize the app
            init();
        });
    </script>
</body>
</html>